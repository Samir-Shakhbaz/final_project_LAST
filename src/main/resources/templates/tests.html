<!DOCTYPE html>
<html lang="en"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Test Manager</title>
    <div th:replace="fragments :: header"/>
</head>
<body style="background-color:#EDF1FF">

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Test Your Java</a>
        </div>
        <ul class="nav navbar-nav">
            <li class="active"><a th:href="@{/}">Home</a></li>
            <li><a th:href="@{/login}" class="link-dark">Log in</a></li>
            <li th:if="${isAdmin}"><a th:href="@{/create-account}">Create an account</a></li>
            <li><a th:href="@{/logout}">Log out</a></li>
            <li th:if="${isAdmin}"><a th:href="@{/test/list}">Go to test-list</a></li>
            <li th:if="${isAdmin}"><a th:href="@{/question/list}">Go to question-list</a></li>
            <li th:if="${isAdmin}"><a th:href="@{/answer/list}">Go to answer-list</a></li>
            <li th:if="${isAdmin}"><a th:href="@{/about}">About</a></li>
            <li sec:authorize="hasRole('ROLE_ADMIN')"><a th:href="@{/about}">About2</a></li>
            <li sec:authorize="isAuthenticated()"><a th:href="@{/about}">About3</a></li>

        </ul>

        <h1 sec:authorize="hasRole('ROLE_ADMIN')">Hello Admin</h1>
    </div>
</nav>

<div align="center">
    <h1>
        Select your Test and good luck!
    </h1>

    <br/><br/>

    <div class="container">
        <h2>Java Fundamentals</h2>
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Test Id</th>
                <th>Test name</th>
                <th>Test Link Id</th>
            </tr>
            </thead>

        <tbody>

        <tr th:each="test : ${allTests}">
            <td th:text="${test.id}"></td>
            <td th:text="${test.name}"></td>
            <td>
                <a th:href="@{'/test/tests/' + ${test.id}}">Link</a>
            </td>
        </tr>
        </tbody>
    </table>
    </br>

</div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
</body>
</html>